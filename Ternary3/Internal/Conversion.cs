namespace Ternary3.Internal;
internal static partial class Conversion
{
    internal static int From2Trits(this uint target)
        => target switch
        {
            0 => 0,
            2 => 1,
            9 => 2,
            8 => 3,
            10 => 4,
            1 => -1,
            6 => -2,
            4 => -3,
            _ => -4
        };

    internal static int From4Trits(this uint target)
        => target switch
        {
            0 => 0,
            <= 0xF => From2Trits(target),
            _ => ThreePow2 * From2Trits(target >> 0x4) + From2Trits(target & 0xF)
        };

    internal static int From8Trits(this uint target)
        => target switch
        {
            0 => 0,
            <= 0xFF => From4Trits(target),
            _ => ThreePow4 * From4Trits(target >> 0x8) + From4Trits(target & 0xFF)
        };

    internal static int From16Trits(this uint target)
        => target switch
        {
            0 => 0,
            <= 0xFFFF => From8Trits(target),
            _ => ThreePow8 * From8Trits(target >> 0x10) + From8Trits(target & 0xFFFF)
        };

    internal static long From32Trits(this ulong target)
        => target switch
        {
            0 => 0,
            <= 0xFFFFFFFF => From16Trits((uint)target),
            _ => ThreePow16 * (long)From16Trits((uint)(target >> 0x20)) + From16Trits((uint)target & 0xFFFFFFFF)
        };

    internal static int From20Trits(this ulong target)
        => target switch
        {
            0 => 0,
            <= 0xFFFFFFFF => From16Trits((uint)target),
            _ => ThreePow16 * From16Trits((uint)(target >> 0x20) & 0xF) + From16Trits((uint)target & 0xFFFFFFFF)
        };

    internal static long From40Trits(this (ulong high, ulong low) target)
        => target.high == 0
            ? From32Trits(target.low)
            : ThreePow32 * From32Trits(target.high & 0xFF) + From32Trits(target.low);

    internal static sbyte From4Trits(this byte target)
    {
        return target switch
        {
            0 => 0,
            2 => 1,
            9 => 2,
            8 => 3,
            10 => 4,
            37 => 5,
            36 => 6,
            38 => 7,
            33 => 8,
            32 => 9,
            34 => 10,
            41 => 11,
            40 => 12,
            42 => 13,
            149 => 14,
            148 => 15,
            150 => 16,
            145 => 17,
            144 => 18,
            146 => 19,
            153 => 20,
            152 => 21,
            154 => 22,
            133 => 23,
            132 => 24,
            134 => 25,
            129 => 26,
            128 => 27,
            130 => 28,
            137 => 29,
            136 => 30,
            138 => 31,
            165 => 32,
            164 => 33,
            166 => 34,
            161 => 35,
            160 => 36,
            162 => 37,
            169 => 38,
            168 => 39,
            170 => 40,
            1 => -1,
            6 => -2,
            4 => -3,
            5 => -4,
            26 => -5,
            24 => -6,
            25 => -7,
            18 => -8,
            16 => -9,
            17 => -10,
            22 => -11,
            20 => -12,
            21 => -13,
            106 => -14,
            104 => -15,
            105 => -16,
            98 => -17,
            96 => -18,
            97 => -19,
            102 => -20,
            100 => -21,
            101 => -22,
            74 => -23,
            72 => -24,
            73 => -25,
            66 => -26,
            64 => -27,
            65 => -28,
            70 => -29,
            68 => -30,
            69 => -31,
            90 => -32,
            88 => -33,
            89 => -34,
            82 => -35,
            80 => -36,
            81 => -37,
            86 => -38,
            84 => -39,
            _ => -40,
        };
    }

    internal static byte ToTrits4(sbyte value)
        => value switch
        {
            0 => 0,
            1 => 2,
            2 => 9,
            3 => 8,
            4 => 10,
            5 => 37,
            6 => 36,
            7 => 38,
            8 => 33,
            9 => 32,
            10 => 34,
            11 => 41,
            12 => 40,
            13 => 42,
            14 => 149,
            15 => 148,
            16 => 150,
            17 => 145,
            18 => 144,
            19 => 146,
            20 => 153,
            21 => 152,
            22 => 154,
            23 => 133,
            24 => 132,
            25 => 134,
            26 => 129,
            27 => 128,
            28 => 130,
            29 => 137,
            30 => 136,
            31 => 138,
            32 => 165,
            33 => 164,
            34 => 166,
            35 => 161,
            36 => 160,
            37 => 162,
            38 => 169,
            39 => 168,
            40 => 170,
            41 => 85,
            42 => 84,
            43 => 86,
            44 => 81,
            45 => 80,
            46 => 82,
            47 => 89,
            48 => 88,
            49 => 90,
            50 => 69,
            51 => 68,
            52 => 70,
            53 => 65,
            54 => 64,
            55 => 66,
            56 => 73,
            57 => 72,
            58 => 74,
            59 => 101,
            60 => 100,
            61 => 102,
            62 => 97,
            63 => 96,
            64 => 98,
            65 => 105,
            66 => 104,
            67 => 106,
            68 => 21,
            69 => 20,
            70 => 22,
            71 => 17,
            72 => 16,
            73 => 18,
            74 => 25,
            75 => 24,
            76 => 26,
            77 => 5,
            78 => 4,
            79 => 6,
            80 => 1,
            81 => 0,
            82 => 2,
            83 => 9,
            84 => 8,
            85 => 10,
            86 => 37,
            87 => 36,
            88 => 38,
            89 => 33,
            90 => 32,
            91 => 34,
            92 => 41,
            93 => 40,
            94 => 42,
            95 => 149,
            96 => 148,
            97 => 150,
            98 => 145,
            99 => 144,
            100 => 146,
            101 => 153,
            102 => 152,
            103 => 154,
            104 => 133,
            105 => 132,
            106 => 134,
            107 => 129,
            108 => 128,
            109 => 130,
            110 => 137,
            111 => 136,
            112 => 138,
            113 => 165,
            114 => 164,
            115 => 166,
            116 => 161,
            117 => 160,
            118 => 162,
            119 => 169,
            120 => 168,
            121 => 170,
            122 => 85,
            123 => 84,
            124 => 86,
            125 => 81,
            126 => 80,
            127 => 82,
            -1 => 1,
            -2 => 6,
            -3 => 4,
            -4 => 5,
            -5 => 26,
            -6 => 24,
            -7 => 25,
            -8 => 18,
            -9 => 16,
            -10 => 17,
            -11 => 22,
            -12 => 20,
            -13 => 21,
            -14 => 106,
            -15 => 104,
            -16 => 105,
            -17 => 98,
            -18 => 96,
            -19 => 97,
            -20 => 102,
            -21 => 100,
            -22 => 101,
            -23 => 74,
            -24 => 72,
            -25 => 73,
            -26 => 66,
            -27 => 64,
            -28 => 65,
            -29 => 70,
            -30 => 68,
            -31 => 69,
            -32 => 90,
            -33 => 88,
            -34 => 89,
            -35 => 82,
            -36 => 80,
            -37 => 81,
            -38 => 86,
            -39 => 84,
            -40 => 85,
            -41 => 170,
            -42 => 168,
            -43 => 169,
            -44 => 162,
            -45 => 160,
            -46 => 161,
            -47 => 166,
            -48 => 164,
            -49 => 165,
            -50 => 138,
            -51 => 136,
            -52 => 137,
            -53 => 130,
            -54 => 128,
            -55 => 129,
            -56 => 134,
            -57 => 132,
            -58 => 133,
            -59 => 154,
            -60 => 152,
            -61 => 153,
            -62 => 146,
            -63 => 144,
            -64 => 145,
            -65 => 150,
            -66 => 148,
            -67 => 149,
            -68 => 42,
            -69 => 40,
            -70 => 41,
            -71 => 34,
            -72 => 32,
            -73 => 33,
            -74 => 38,
            -75 => 36,
            -76 => 37,
            -77 => 10,
            -78 => 8,
            -79 => 9,
            -80 => 2,
            -81 => 0,
            -82 => 1,
            -83 => 6,
            -84 => 4,
            -85 => 5,
            -86 => 26,
            -87 => 24,
            -88 => 25,
            -89 => 18,
            -90 => 16,
            -91 => 17,
            -92 => 22,
            -93 => 20,
            -94 => 21,
            -95 => 106,
            -96 => 104,
            -97 => 105,
            -98 => 98,
            -99 => 96,
            -100 => 97,
            -101 => 102,
            -102 => 100,
            -103 => 101,
            -104 => 74,
            -105 => 72,
            -106 => 73,
            -107 => 66,
            -108 => 64,
            -109 => 65,
            -110 => 70,
            -111 => 68,
            -112 => 69,
            -113 => 90,
            -114 => 88,
            -115 => 89,
            -116 => 82,
            -117 => 80,
            -118 => 81,
            -119 => 86,
            -120 => 84,
            -121 => 85,
            -122 => 170,
            -123 => 168,
            -124 => 169,
            -125 => 162,
            -126 => 160,
            -127 => 161,
            _ => 166,
        };
}